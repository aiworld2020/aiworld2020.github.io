<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>gotechbytes - learn to code</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/" rel="icon">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: Scaffold - v4.7.0
    * Template URL: https://bootstrapmade.com/scaffold-bootstrap-metro-style-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
</head>

<body>

     <!-- ======= Header ======= -->

     <header id="header" class="fixed-top d-flex align-items-center">
        <div class="container d-flex align-items-center">

            <div class="logo me-auto">
                <!--<h1><a href="index.html">{ZiggyBytes}</a></h1> -->

                <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>
            </div>


            <nav id="navbar" class="navbar order-last order-lg-0">
                <ul>
                    <li><a class="nav-link scrollto active" href="#">Home</a></li>
                    <li class="dropdown">
                        <a href="index.html#popular-courses"><span>Courses</span> <i class="bi bi-chevron-down"></i></a>

                        <ul>
                            <li class="dropdown">
                                <a href="index.html#popular-courses"><span>Python</span> <i class="bi bi-chevron-right"></i></a>
                                <ul>
                                    <li><a href="index.html#popular-courses">Python Graphics</a></li>
                                    <li><a href="index.html#popular-courses">Python Fundamentals</a></li>
                                    <li><a href="index.html#popular-courses">Data Science with Python</a></li>
                                    <li><a href="notebooks.html">Python Notebooks</a></li>

                                </ul>
                            <li><a href="index.html#dotnet">Web Development</a></li>
                            <li><a href="index.html#dotnet">Visual Studio &amp; C#</a></li>
                            <li><a href="#">Calculus</a></li>

                        </ul>
                    <li><a href="notebooks.html">Python Notebooks</a></li>
                    <li class="dropdown">
                        <a href="#"><span>Coding Competitions</span> <i class="bi bi-chevron-down"></i></a>
                        <ul>
                            <li><a href="congress.html">Congressional App Challenge</a></li>
                            <li><a href="nasa.html">NASA ADC</a></li>
                            <li><a href="http://www.usaco.org/index.php">USACO Challenge</a></li>
                            <li><a href="https://usaco.guide/dashboard">USACO Guide</a></li>
                            
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="nav-link scrollto active" href="envision.html"><span>Project Envision</span></i></a>
                        
                    </li>
                    <li><a class="nav-link scrollto" href="gallery.html">Events</a></li>

                    <li class="dropdown">
                        <a href="aboutus.html"><span>About</span> <i class="bi bi-chevron-down"></i></a>
                        <ul>
                            <li><a href="aboutus.html">Company</a></li>
                            <li><a href="aboutus.html#team">Team</a></li>
                            <li><a href="volunteer.html">Volunteer</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                            
                        </ul>

                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav><!-- .navbar -->
            <!--
            <div class="header-social-links d-flex align-items-center">
              <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
              <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
              <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
            </div>
                  -->
        </div>
    </header><!-- End Header -->
    <!-- Page Content-->

    <main id="main" data-aos="fade" data-aos-delay="1500">

        <!-- ======= End Page Header ======= -->
        
        </div><!-- End Page Header -->

    <div class="section-title">
        <h2>&nbsp;</h2>
        <h2>&nbsp;</h2>
        <h2 class="text-success">Internships, Research Opportunities & Summer Programs.</h2>
        <h4>&nbsp;</h4>    
    </div>

    <!-- ======= Featured Services Section ======= -->
   
        
        <div class="container">
            <!-- search -->
            <div class="input-group mb-3">
                <input type="text" id="searchInput" class="form-control border border-secondary shadow" placeholder="Search Internships..." aria-label="Search Internships..." aria-describedby="basic-addon2">
                <span class="input-group-text border border-secondary shadow" id="jsonDataSize">Total Results: </span>
            </div>
            <div id="internshipsList" class="row mt-3"></div>
        </div>
    


    <!-- ======= Footer ======= -->
    <footer id="footer">

        <div class="container">

            <div class="copyright">
                A 501(c)(3) non-profit, K-12 STEM initiative by the high-school students. <br />
                San Ramon, California, United States <br/>
                &copy; Copyright <strong><span>Gotech Bytes</span></strong>. All Rights Reserved.
            </div>


        </div>


    </footer><!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <!-- Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>

    <script type="module">

        // Your JSON file path
        var jsonFilePath = 'https://www.gotechbytes.com/envision.json';


        // Initialize a global variable for jsonData
        let jsonData = [];

        // Function to fetch JSON data from a file
        function fetchJSONFile(filename, callback) {
            fetch(filename)
                .then(response => response.json())
                .then(data => {
                    jsonData = data; // Store the data in the global variable

                    // Sort the jsonData array based on the 'title' field
                    jsonData.sort((a, b) => {
                        const titleA = a.title.toUpperCase(); // Convert titles to uppercase for case-insensitive comparison
                        const titleB = b.title.toUpperCase();
                        if (titleA < titleB) {
                            return -1;
                        }
                        if (titleA > titleB) {
                            return 1;
                        }
                        return 0;
                    });

                    callback(null, jsonData);
                })
                .catch(error => callback(error, null));
        }

        // Event listener for input change to trigger search
        searchInput.addEventListener('input', function(event) {
            const searchQuery = event.target.value.trim();

            if (searchQuery.length > 0) {
                console.log('search' + searchQuery);
                const filteredInternships = filterInternships(searchQuery, jsonData); // Pass jsonData as an argument
                renderFilteredInternships(filteredInternships);
            } else {
                // If search query is empty, display all internships
                renderAllInternships();
            }
        });

        // Function to filter and sort internships based on search query
        function filterInternships(query, data) {
            // Create a copy of the data for sorting purposes
            const sortedData = [...data];

            // Sort the copy of the data based on the 'title' field
            sortedData.sort((a, b) => {
                const titleA = a.title.toUpperCase();
                const titleB = b.title.toUpperCase();
                if (titleA < titleB) {
                    return -1;
                }
                if (titleA > titleB) {
                    return 1;
                }
                return 0;
            });

            if (query.length === 0) {
                // If the query is empty, return all internships sorted by title
                return sortedData;
            }

            const filteredInternships = sortedData.filter(internship => {
                // Convert all values to lowercase for case-insensitive search
                const valuesToSearch = Object.values(internship).join(' ').toLowerCase();
                return valuesToSearch.includes(query.toLowerCase());
            });

            console.log('filtered length = ' + filteredInternships.length);
            return filteredInternships;
        }

        // Function to render internships based on filtered data
        function renderFilteredInternships(filteredData) {
            var internshipsList = document.getElementById('internshipsList');

            // Clear existing content
            internshipsList.innerHTML = '';

            // Loop through filtered data and create HTML elements
            filteredData.forEach(function(internship) {
                var internshipCard = document.createElement('div');
                internshipCard.className = 'col-12 mb-4';

                var cardContent = `
                    <div class="card shadow card-radius border-1">
                        <div class="card-body text-left">
                            <h5 class="card-title text-left">
                                <a href="${internship.url}" target="_blank">${internship.title}</a>
                            </h5>
                            <p class="card-text text-left">${internship.description}</p>
                            <div class="row mb-3">
                                ${internship.tags && internship.tags.length > 0 ? `
                                    <div class="row mb-3">
                                        ${internship.tags.slice(0, 5).map(tag => `
                                            <div class="col-2">
                                                <button type="button" class="btn btn-outline-secondary btn-sm">${tag}</button>
                                            </div>
                                        `).join('')}
                                    </div>`
                                    : ''}
                                ${internship.tags && internship.tags.length > 5 ? `
                                    <div class="row mb-3">
                                        ${internship.tags.slice(5).map(tag => `
                                            <div class="col-3">
                                                <button type="button" class="btn btn-outline-secondary btn-sm">${tag}</button>
                                            </div>
                                        `).join('')}
                                    </div>`
                                    : ''}
                            </div>
                        </div>
                    </div>
                `;

                internshipCard.innerHTML = cardContent;
                internshipsList.appendChild(internshipCard);
            });

            // Update the content of the jsonDataSize element
            const jsonDataSizeElement = document.getElementById('jsonDataSize');
            jsonDataSizeElement.textContent = `Total Results: ${filteredData.length}`;
        }

        // Function to render all internships
        function renderAllInternships() {
            renderFilteredInternships(jsonData);
        }


        // Call the function to fetch and render all internships initially
        fetchJSONFile(jsonFilePath, function(error, jsonData) {
            if (error) {
                console.error('Error loading JSON file:', error);
                return;
            }
            
            renderAllInternships();
        });


    </script>

</body>

</html>
